<div class="page-container">
  <div *ngIf="toastMessage" class="toast">{{ toastMessage }}</div>
<header>
  <nav class="main-nav">
    <div class="nav-left">
      <a routerLink="/home" routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }">HOME</a>
      <a routerLink="/about" routerLinkActive="active-link">ABOUT</a>
      <a routerLink="/book" routerLinkActive="active-link">BOOK</a>
      <a routerLink="/speaking" routerLinkActive="active-link">SPEAKING</a>
    </div>
    <div class="nav-right">
      <ng-container *ngIf="!isLoggedIn; else userMenu">
        <a (click)="openAuthModal('login')">Login/Register</a>
      </ng-container>
      <ng-template #userMenu>
        <div class="user-menu" (mouseleave)="showMenu = false">
          <span class="user-name" (click)="showMenu = !showMenu">
            Hello, {{ firstName || 'Account' }}
          </span>
          <div class="dropdown" *ngIf="showMenu">
            <a routerLink="/profile">Profile</a>
            <a (click)="logout()">Log out</a>
          </div>
        </div>
      </ng-template>
    </div>
  </nav>
</header>

<!-- Single modal, switch content -->
<div *ngIf="showAuthModal">
  <div class="modal-backdrop" (click)="closeAuthModal()"></div>
  <div class="modal">
    <app-login
      *ngIf="isLoginMode"
      (close)="closeAuthModal()"
      (switchToRegister)="switchAuthMode()"
    ></app-login>
    <app-register
      *ngIf="!isLoginMode"
      (close)="closeAuthModal()"
      (switchToLogin)="switchAuthMode()"
    ></app-register>
  </div>
</div>

<router-outlet></router-outlet>

<footer>
  <p>Â© 2025 BeBe Bowie. All rights reserved.</p>
</footer>
</div>